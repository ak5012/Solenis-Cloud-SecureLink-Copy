echo "=== Installing Python Configuration JSON for GPAM Live Data ==="
# --- Write Python script ---
cat > "$GPAM_LIVE_CONFIG_JSON" << 'EOF'
{
  "plc_ip": "192.168.1.52",
  "poll_interval": 60,
  "fragment": "GPAM",
  "registers": {
    "Live_Base_Temperature": {
      "tag": "F8:10",
      "unit": "C",
      "round": 0
    },
    "Live_CPAM_Bulk_Level": {
      "tag": "F8:13",
      "unit": "%",
      "round": 2
    },
    "Live_Critical_Faults": {
      "tag": "B3:1/1",
      "unit": "bool"
    },
    "Live_EStop_Button": {
      "tag": "B3:0/4",
      "unit": "bool"
    },
    "Live_Glyoal_Storage_Level": {
      "tag": "F8:14",
      "unit": "%",
      "round": 2
    },
    "Live_GPAM_Bulk_Level": {
      "tag": "F8:12",
      "unit": "%",
      "round": 2
    },
    "Live_Tank4_Bulk_Level": {
      "tag": "F8:0",
      "unit": "%",
      "round": 2
    },
    "Live_pH": {
      "tag": "F8:144",
      "round": 2
    },
    "Live_Reaction_Tank_Level": {
      "tag": "F8:3",
      "unit": "%",
      "round": 2
    },
    "Live_Reaction_Tank_Weight": {
      "tag": "F8:5",
      "unit": "kg",
      "round": 1
    },
    "Live_Recirc_Pump_Discharge_Pressure": {
      "tag": "F8:2",
      "unit": "psi",
      "round": 2
    },
    "Live_Run_Circ_Pump": {
      "tag": "B3:1/7",
      "unit": "bool"
    },
    "Live_Run_Water_Pump": {
      "tag": "B3:1/8",
      "unit": "bool"
    },
    "Live_Tank_Agitator": {
      "tag": "B3:1/6",
      "unit": "bool"
    },
    "Live_Sequence_Position": {
      "tag": "B3:1/6",
      "unit": "bool"
    },
    "Live_Tank_Turbidity": {
      "tag": "F12:5",
      "unit": "NTU",
      "round": 2
    },
    "Live_Water_Header_Pressure": {
      "tag": "F8:1",
      "unit": "psi",
      "round": 2
    },
    "Live_Batch_Number": {
      "tag": "F11:17"
    },
    "Live_Batch_Water_Added": {
      "tag": "F11:10",
      "unit": "kg",
      "round": 0
    },
    "Live_Batch_CPAM_Added": {
      "tag": "F11:11",
      "unit": "kg",
      "round": 0
    },
    "Live_Batch_Glyoxyl_Added": {
      "tag": "F11:12",
      "unit": "kg",
      "round": 0
    },
    "Live_Batch_Caustic_Water_Added": {
      "tag": "F11:13",
      "unit": "kg",
      "round": 0
    },
    "Live_Batch_Acid_Water_Added": {
      "tag": "F11:14",
      "unit": "kg",
      "round": 0
    },
    "Live_Batch_Relative_Turbidity_Change": {
      "tag": "F11:15",
      "unit": "NTU",
      "round": 1
    },
    "Live_Batch_Reaction_Time": {
      "tag": "F11:18",
      "unit": "sec",
      "round": 0
    },
    "Live_Turbidity_LoopFlow": {
      "tag": "F8:4",
      "unit": "lpm",
      "round": 2
    }
  }
}

EOF

echo "=== Installing Python Configuration JSON for GPAM Batch Data ==="
# --- Write Python script ---
cat > "$GPAM_BATCH_CONFIG_JSON" << 'EOF'
{
  "plc_ip": "192.168.1.52",
  "fragment": "GPAM",
  "registers": {
    "Batch_End": {
      "tag": "B3:2/7",
      "c8y_ignore":"true"
    },
    "Batch_Acid_Water_Added": {
      "tag": "F11:14",
      "unit": "kg",
      "round": 0
    },
    "Batch_Number": {
      "tag": "F11:17"
    },
    "Batch_Caustic_Water_Added": {
      "tag": "F11:13",
      "unit": "kg",
      "round": 0
    },
    "Batch_CPAM_Added": {
      "tag": "F11:11",
      "unit": "kg",
      "round": 0
    },
    "Batch_Glyoxyl_Added": {
      "tag": "F11:12",
      "unit": "kg",
      "round": 0
    },
    "Batch_Reaction_Time": {
      "tag": "F11:18",
      "unit": "sec",
      "round": 0
    },
    "Batch_Relative_Turbidity_Change": {
      "tag": "F11:15",
      "unit": "NTU",
      "round": 1
    },
    "Batch_Water_Added": {
      "tag": "F11:10",
      "unit": "kg",
      "round": 0
    }
  }
}

EOFFF
